import{c as y,h as p,g as h}from"./QBtn.1405572f.js";import{c as _,h as m,g as w,G as S,_ as g,H as b,I as T,J as l,K as r,a9 as C,N as $,T as u,L as k,O as v,R as q,S as f}from"./index.4737c00e.js";import{Q as x}from"./QTable.13eef11e.js";import{s as Q}from"./ShopStore.4dc30009.js";import{c as B}from"./CartStore.b5ae8864.js";import"./use-fullscreen.989ed81a.js";var i=y({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(t,{slots:e}){const a=w(),n=_(()=>"q-td"+(t.autoWidth===!0?" q-table--col-auto-width":"")+(t.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(t.props===void 0)return m("td",{class:n.value},p(e.default));const s=a.vnode.key,d=(t.props.colsMap!==void 0?t.props.colsMap[s]:null)||t.props.col;if(d===void 0)return;const{row:c}=t.props;return m("td",{class:n.value+d.__tdClass(c),style:d.__tdStyle(c)},p(e.default))}}}),I=y({name:"QTr",props:{props:Object,noHover:Boolean},setup(t,{slots:e}){const a=_(()=>"q-tr"+(t.props===void 0||t.props.header===!0?"":" "+t.props.__trClass)+(t.noHover===!0?" q-tr--no-hover":""));return()=>m("tr",{class:a.value},p(e.default))}}),N=y({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const a=_(()=>{const n=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter(s=>t[s]===!0).map(s=>`q-btn-group--${s}`).join(" ");return`q-btn-group row no-wrap${n.length>0?" "+n:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>m("div",{class:a.value},p(e.default))}});const P=S({props:{id:{type:Number,required:!0}},methods:{},setup(){return{myCartStore:B()}}});function H(t,e,a,n,s,d){return b(),T(N,{push:""},{default:l(()=>[r(h,{onClick:e[0]||(e[0]=C(c=>t.myCartStore.addProduct(t.id),["stop"])),color:"blue",push:"",dense:"",label:"",icon:"add"}),r(h,{onClick:e[1]||(e[1]=C(c=>t.myCartStore.dismProduct(t.id),["stop"])),color:"red",push:"",dense:"",label:"",icon:"remove"})]),_:1})}var M=g(P,[["render",H]]);const V=[{name:"cantidad",label:"Cant",align:"left",field:"cant",sortable:!0,sort:(t,e)=>parseInt(t,10)-parseInt(e,10)},{name:"productos",align:"center",label:"Productos",field:"producto"},{name:"precio",label:"Precio",field:"price",format:t=>`${t}$`,sortable:!0,sort:(t,e)=>parseInt(t,10)-parseInt(e,10)},{name:"",label:"",field:"buttons",classes:"table-buttons"}];const j=S({components:{CartTableButtons:M},setup(){const t=Q(),e=B();return{myShopStore:t,myCartStore:e}},data(){return{columns:V}},mounted(){this.myShopStore.badgeCount=0},computed:{precioTotal(){let t=0;return this.myCartStore.cart.map(e=>{t+=e.price*e.cant}),t},rows(){return this.myCartStore.$state.cart},textToSend(){let t=`**********************
      `;return[...this.myCartStore.$state.cart].forEach(e=>{t+=`Producto: ${e.productName}      
        Cantidad: ${e.cant}      
        Precio x Unidad: ${e.price}             `}),t+=`Precio Total: ${this.precioTotal}         
      **********************
      

     `,`https://api.whatsapp.com/send?phone=5354955890&text=${t}`}}}),z={class:"my-cart"},G={key:0,class:"title text-center q-ma-md"},O=v("br",null,null,-1),E=v("br",null,null,-1),W={class:"flex flex-center"};function D(t,e,a,n,s,d){const c=q("cart-table-buttons");return b(),$("div",z,[t.precioTotal?(b(),$("h3",G," Precio Total: "+u(t.precioTotal)+"$ ",1)):k("",!0),r(x,{class:"my-table",flat:"",rows:t.myCartStore.$state.cart,columns:t.columns,"row-key":"name"},{body:l(o=>[r(I,{props:o},{default:l(()=>[r(i,{key:"cantidad",props:o},{default:l(()=>[f(u(o.row.cant),1)]),_:2},1032,["props"]),r(i,{key:"productos",props:o},{default:l(()=>[f(u(o.row.productName),1)]),_:2},1032,["props"]),r(i,{key:"precio",props:o},{default:l(()=>[f(u(parseInt(o.row.price)*parseInt(o.row.cant)),1)]),_:2},1032,["props"]),r(i,{key:"",props:o},{default:l(()=>[r(c,{id:o.row.id},null,8,["id"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),O,E,v("div",W,[r(h,{disable:!t.precioTotal,class:"send-btn q-px-lg",href:t.textToSend,target:"_blank",size:"19px",color:"light-green-10","text-color":"white",label:"Comprar"},null,8,["disable","href"])])])}var F=g(j,[["render",D]]);export{F as default};
